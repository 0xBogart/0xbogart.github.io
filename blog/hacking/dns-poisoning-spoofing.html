<!DOCTYPE html>
<html lang="es">
<head>
	<title>DNS Poisoning &amp; Spoofing | ØxBogart</title>

	<!-- meta -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0,user-scalable=no,viewport-fit=cover">
	<link rel="icon" type="/image/png" href="/blog/img/skull.png">
	<link rel="canonical" href="https://0xbogart.github.io/blog/hacking/dns-poisoning-spoofing">
	<meta name="author" content="Bogart">
	<meta name="description" content="DNS Poisoning &amp; Spoofing | ØxBogart">
	<meta name="keywords" content="DNS Poisoning &amp; Spoofing | ØxBogart">

	<!-- Twitter Tags -->
	<meta property="og:title" content="DNS Poisoning &amp; Spoofing | ØxBogart">
	<meta property="og:description" content="DNS Poisoning &amp; Spoofing | ØxBogart">
	<meta property="og:image" content="https://0xbogart.github.io/blog/img/dns-poisoning.jpg">
	<meta property="og:url" content="https://0xbogart.github.io/blog/hacking/dns-poisoning-spoofing">
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@jfb0gart">
	<meta name="twitter:creator" content="@jfb0gart">
	<meta name="twitter:title" content="DNS Poisoning &amp; Spoofing | ØxBogart">
	<meta name="twitter:description" content="DNS Poisoning &amp; Spoofing | ØxBogart">
	<meta name="twitter:image" content="https://0xbogart.github.io/blog/img/dns-poisoning.jpg">		

	<!-- css -->
	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<link rel="stylesheet" href="/css/ionicons.min.css">
	<link rel="stylesheet" href="/css/tabbared.css">
	<link rel="stylesheet" href="/css/sidebar.css">
	<link rel="stylesheet" href="/css/pace.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="stylesheet" href="/css/blackarchterm.css">
	<link rel="stylesheet" href="/css/blackarchvoid.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

	<!-- js -->
	<script src="/js/jquery-2.1.3.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/pace.min.js"></script>
	<script src="/js/modernizr.custom.js"></script>
	<script src="/js/tabbar.js"></script>
	<script src="/js/sidebar.js"></script>
	<script src="/js/asredlight.js"></script>
<style>
@media (max-width: 600px) {
  .imgmax {
    max-height: 100%;
    width: 100%;
  }
}

.bg {
	border: 5px solid black;
	width: 100%;
	height: 100%;
}
</style>
</head>

<body class="bg">
	<div class="container">	
		<header id="site-header">
			<div class="row">
				<div style="margin-bottom: -10%;">
					<h1>H<a href="/blog/hacking"><img src="/blog/img/skullh.png" width="30px" height="40px" style="margin-top: -9px;"></a>CKING</h1>
				</div><!-- col-4 -->
			</div>
			
			<div class="row justify-content-end">
				<div class="col-1">
					<nav class="navbar navbar-expand-lg navbar-light">
						<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#bs-example-navbar-collapse-1" aria-controls="bs-example-navbar-collapse-1" aria-expanded="false" aria-label="Toggle navigation">
							<span class="navbar-toggler-icon"></span>
						</button>
						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							<ul class="navbar-nav">
								<li class="nav-item">
									<a style="font-size: 25px;" class="nav-link" href="/index" data-hover="Home">Home</a>
								</li>
							</ul>
						</div><!--- .navbar-collapse --->
					</nav>
				</div><!-- col-md-8 -->
			</div>
		</header>
	</div>

	<div class="content-body">
		<!-- TABBAR -->
			<div style="position: sticky; top: 0; width: auto;">
				<a onclick="toggleDropdown()">
					<div class="tabbar">
						<span style="font-weight: bold; float: left; margin-left: 10px;">TABLA DE CONTENIDO</span>
						<div class="dropdown-content" id="dropdownContent"></div>
					</div>
				</a>
			
				<div id="contenido">
					<h5>DNS Poisoning &amp; Spoofing</h5>
					<div style="border-top: 1px solid #000; width: 100%; margin: 10px 0;"></div>
					<a href="#INTRO" style="text-decoration: none;"><p style="margin-bottom: 6px; font-size: larger">☠ INTRO</p></a>
					<a href="#ettercap" style="text-decoration: none;"><p style="margin-bottom: 6px; font-size: larger">☠ ETTERCAP</p></a>
					<a href="#etterconf" style="text-decoration: none;"><p style="margin-bottom: 6px; font-size: larger">☠ ETTER.CONF</p></a>
					<a href="#etterdns" style="text-decoration: none;"><p style="margin-bottom: 6px; font-size: larger">☠ ETTER.DNS</p></a>
					<a href="#poisoning" style="text-decoration: none;"><p style="margin-bottom: 6px; font-size: larger">☠ ENVENENAMIENTO DNS</p></a>
				</div>
			</div><!-- END TABBAR -->
		
		<div id="main" style="position: sticky; top: 0;">
			<button class="openbtnred" onclick="openNav()">☠</button>
		</div><br>
		<div id="mySidebar" class="sidebar" style="position: sticky; margin-top: -18px;">
			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
			<span style="font-size: 25px; color: #ff0000;"><b>&nbsp;✎</b></span><span style="font-size: 25px; color: white;"> <b>Notas</b></span>
			<hr style="color: #DECD00;"><br>
			<a><span style="color: #E5D400;">etter.conf</span><span class="spanx">: Archivo de configuración que determina el comportamiento de Ettercap.</span></a>
			<a><span style="color: #E5D400;">etter.dns</span><span class="spanx">: Archivo de configuración para la suplantación DNS [Spøøfing] de Ettercap</span></a>
			<a><span style="color: #E5D400;">ARP</span><span class="spanx">: Protocolo de Resolución de Direcciones. Permite manipular la caché de vecinos o la tabla ARP.</span></a>
			<a><span style="color: #E5D400;">192.168.1.37</span><span class="spanx">: IP Máquina Victima</span></a>
			<a><span style="color: #E5D400;">192.168.1.38</span><span class="spanx">: IP Máquina Atacante</span></a>
		</div>
		
		<div class="container">
			<div class="row">
				<main class="col-md-8" style="margin-left: auto; margin-right: auto;">
					<article class="post post-1">
						<header  class="entry-header">
							<h1 class="blh1">DNS</h1>
							<h2 class="blh2"><a style="color: #DB0000;">Poisoning </a>&amp;<a style="color: #DB0000;"> Spoofing</a></h2>
						</header>
						<div class="entry-content clearfix"><br><br>

							<section id="INTRO" style="margin-top: 40px;">
								<div class="centext">
									<a style="font-size: 19px; color: rgb(189, 0, 38);">☠ </a><span class="red-bg" style="font-size: 19px;">INTRO</span>
								</div><br>
								
								<div class="leftl">
									<span><b>DNS Pøisøning</b> y <b>DNS Spøøfing</b> son sinónimos pero para entenderlos se debe pensar en ellos como acción y reacción o el <b>cómo</b> y el <b>por qué</b>.</span><br><br>
									<span>Cuando esta técnica se lleva a cabo, lo que ocurre es que los <b>datos</b> del <b>DNS</b> de un sitio web son <b>falsificados\reemplazados</b>, por lo que la petición de un usuario a esa web se redirecciona hacia el servidor del atacante en lugar de al servidor web legítimo.</span><br><br>
									<span><b>DNS</b> es el <b>catálogo mundial de direcciones IP y nombres de dominio</b>. Como una guía telefónica en Internet. Traduce URL fáciles de usar para el usuario final. Cada servidor almacena una lista de registros DNS que conoce, esto se denomina caché.</span><br><br>
									<span>Si el servidor <b>DNS</b> más cercano no conoce la dirección IP que necesita, pregunta a otros servidores DNS ascendentes hasta que encuentra la dirección IP del sitio web al que está intentando acceder. El servidor DNS guarda esta nueva entrada en su caché para tiempos de respuesta más rápidos</span>
								</div><br>
								
								<a href="/blog/hacking/img/dns_poison_spoofing.jpg" target="_blank"><img class="imgmax" src="/blog/hacking/img/dns_poison_spoofing.jpg" width="80%"></a>
							</section>
							
							<div style="border-top: 1px solid #000; width: 100%; margin: 10px 0;"></div>
								
							<section id="ettercap">
								<div class="centext" style="margin-top: 130px;">
									<a style="font-size: 19px; color: rgb(189, 0, 38);">☠ </a><span class="red-bg" style="font-size: 19px;">ETTERCAP</span>
								</div><br>
								
								<div class="leftl">
									<span><b>Ettercap</b> nació como un sniffer para redes LAN conmutadas pero durante el proceso de desarrollo ha ido incorporando nuevas características que lo han convertido en una potente y flexible herramienta para ataques <b>M</b>an-<b>I</b>n-<b>T</b>he-<b>M</b>iddle</span><br><br>
									<span>Soporta la disección activa y pasiva de diferentes protocolos <b>[</b>incluso los cifrados<b>]</b> e incluye características para el análisis de la red y del host <b>[</b>como la huella digital del sistema operativo<b>]</b></span>
								</div>
							</section>
							
							<div style="border-top: 1px solid #000; width: 100%; margin: 10px 0;"></div>
								
							<section id="etterconf">
								<div class="centext" style="margin-top: 130px;">
									<a style="font-size: 19px; color: rgb(189, 0, 38);">☠ </a><span class="red-bg" style="font-size: 19px;">ETTER.CONF</span>
								</div><br>
								
									<div class="leftl">
										<span><b>etter.conf</b> es el archivo de configuración que determina el comportamiento de <b>Ettercap</b>. Se carga siempre al inicio y configura algunos atributos utilizados en tiempo de ejecución y es el único archivo que se lee con permisos de <b><a style="color: #C80000;">root</a></b>.</span>
										<br><br>
										<span>Hay que asegurarse de que el <b>UID</b> especificado tiene suficientes privilegios para leer otros archivos [<b>etter.*</b>], aunque esto se puede omitir estableciendo la variable de entorno <b>EC_UID=0</b></span>
										<br><br>
										<span><b>Ettercap</b> necesita privilegios de <b><a style="color: #C80000;">root</a></b> para iniciar los sockets de la capa de enlace y tras esta inicialización, los privilegios de root ya no son necesarios</span>
										<br><br>
										<span>Es cuando <b>Ettercap</b> vuelve a reducir los privilegios a <b>UID=65534</b> [<b>nobody</b>]</span>
									</div><br><br>
								
								<div class="leftl">
									<span><b><a style="color: #DB0000;">⦾</a> CONFIGURAR etter.conf</b></span>
								</div><p></p>
									
								<a href="/blog/hacking/img/etterconf.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/etterconf.png" width="50%"></a><p></p>
								<a href="/blog/hacking/img/etternobody.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/etternobody.png" width="67%"></a><p></p>
								<a href="/blog/hacking/img/etter0.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/etter0.png" width="67%"></a><p></p>
								<a href="/blog/hacking/img/redir.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/redir.png" width="67%"></a><p></p>
								<a href="/blog/hacking/img/redir2.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/redir2.png" width="67%"></a><p></p>
								
								<div class="leftl">
									<span>Como <b>Ettercap</b> necesita crear archivos de registro, debe ejecutarse en un directorio con permisos suficientes como <b>/tmp</b></span>
								</div>
							</section>
								<div style="border-top: 1px solid #000; width: 100%; margin: 10px 0;"></div>
								
							<section id="etterdns">
									<div style="margin-top: 130px;" class="centext">
										<a style="font-size: 19px; color: rgb(189, 0, 38);">☠ </a><span class="red-bg" style="font-size: 19px;">ETTER.DNS</span>
									</div><br>
										
								<div class="leftl">
									<span><b>etter.dns</b> es el archivo de configuración para la <b>suplantación DNS</b> [<b>Spøøfing</b>] de Ettercap y actúa como <b>DNS caché</b> para redirigir las solicitud del usuario al servidor local malicioso <b>[</b>atacante<b>]</b></span><br><br>
									<span><b><a style="color: #DB0000;">⦾</a> CONFIGURAR etter.dns</b></span>
								</div><p></p>
									
								<div>
									<a href="/blog/hacking/img/etterdns.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/etterdns.png" width="46%"></a><p></p>
									<a href="/blog/hacking/img/etterdns2.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/etterdns2.png" width="100%"></a>
									<br><br>
									<span class="left">Cuando la <b>caché DNS</b> sea <b>falsicifada</b>, la petición del usuario a <b>instagram.com</b> será <b>redireccionada</b> a mi IP local</span><p></p>
									<a href="/blog/hacking/img/dnscache.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/dnscache.png" width="55%"></a>
								</div>
							</section>
								<div style="border-top: 1px solid #000; width: 100%; margin: 10px 0;"></div>
								
							<section id="poisoning">
								<div style="margin-top: 130px;" class="centext">
									<a style="font-size: 19px; color: rgb(189, 0, 38);">☠ </a><span class="red-bg" style="font-size: 19px;">FASE DE ENVENENAMIENTO\SUPLANTACIÓN DNS</span><p></p>
									<span>Antes del <b>DNS Pøisøning</b>, este es el estado de la <b>tabla ARP</b> del usuario y la respuesta de ping a <b>instagram.com</b></span><p></p>
									<a href="/blog/hacking/img/arp1.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/arp1.png" width="80%"></a><p></p>
									<a href="/blog/hacking/img/arp2.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/arp2.png" width="80%"></a><p></p>
									<a href="/blog/hacking/img/instagram.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/instagram.png" width="100%"></a><p></p>
									<a href="/blog/hacking/img/arp3.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/arp3.png" width="100%"></a>
								</div><p></p>
								
								<div class="leftl">
									<span style="color: #DB0000;">⦾</span><span><b> -T</b>: Visualización de paquetes en modo texto</span><p></p>
									<span style="color: #DB0000;">⦾</span><span><b> -i</b>: Interfaz de red para el sniffing de paquetes</span><p></p>
									<span style="color: #DB0000;">⦾</span><span><b> -M</b>: Lleva a cabo el ataque MiTM <b>{</b>arp:remote envenena la tabla ARP y rastrea el tráfico remoto<b>}</b></span><p></p>
									<span style="color: #DB0000;">⦾</span><span><b> -P</b>:  Activa el plugin especificado</span><p></p>
									<span style="color: #DB0000;">⦾</span><span><b> Formato</b>:  MAC/IP/PORTS/</span>
								</div><br>
								
								<a href="/blog/hacking/img/arp5.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/arp5.png" width="90%"></a><br><br>
								
								<div class="leftl">
									<span>En este momento la <b>caché DNS</b> del usuario ha sido <b>falsificada</b>. En su <b>tabla ARP</b> se refleja la IP de mi servidor local y cree que <b>instagram.com</b> es mi servidor local, donde he montado un <b>servidor NGINX</b></span><p></p>
								</div>

								<a href="/blog/hacking/img/arp6.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/arp6.png" width="80%"></a><p></p>
								<a href="/blog/hacking/img/arp7.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/arp7.png" width="80%"></a><br><br>
								<a href="/blog/hacking/img/fakeinstagram.png" target="_blank"><img class="imgmax" src="/blog/hacking/img/fakeinstagram.png" width="100%"></a>
							</section>
						</div>
					</article>
				</main>
			</div>
		</div>
	</div>

	<footer id="site-footer">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="copyright">
						<a class="nodeco" href="/index"><img src="/blog/img/0xbogart-shadow.png" style="width: 15%"></a>
					</div>
				</div>
			</div>
		</div>
	</footer>
	<a href="#" id="scrollToTopButtonRed"><i class="fas fa-arrow-up"></i></a>
</body>
</html>
